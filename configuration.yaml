# Intent scripts in configuration.yaml

## English 
intent_script:
  SetAlarm:
    speech:
      text: "Alarm set for {{ datetime }}"
    action:
      - service: alarms_and_reminders.set_alarm
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          satellite: "{{ context.id }}"
          message: "{{ message | default('') }}"

  StopAlarm:
    speech:
      text: "Alarm stopped"
    action:
      - service: alarms_and_reminders.stop_alarm
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SnoozeAlarm:
    speech:
      text: "Alarm snoozed for {{ minutes | default(5) }} minutes"
    action:
      - service: alarms_and_reminders.snooze_alarm
        data:
          minutes: "{{ minutes | default(5) }}"
          alarm_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SetReminder:
    speech:
      text: "Reminder set for {{ datetime }}: {{ task }}"
    action:
      - service: alarms_and_reminders.set_reminder
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          name: "{{ task }}"
          satellite: "{{ context.id }}"
          message: "{{ task }}"

  StopReminder:
    speech:
      text: "Reminder stopped"
    action:
      - service: alarms_and_reminders.stop_reminder
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SnoozeReminder:
    speech:
      text: "Reminder snoozed for {{ minutes | default(5) }} minutes"
    action:
      - service: alarms_and_reminders.snooze_reminder
        data:
          minutes: "{{ minutes | default(5) }}"
          reminder_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

## French 
intent_script:
  SetAlarm_FR:
    speech:
      text: "Alarme réglée pour {{ datetime }}"
    action:
      - service: alarms_and_reminders.set_alarm
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          satellite: "{{ context.id }}"
          message: "{{ message | default('') }}"
  StopAlarm_FR:
    speech:
      text: "Alarme arrêtée"
    action:
      - service: alarms_and_reminders.stop_alarm
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SnoozeAlarm_FR:
    speech:
      text: "Alarme reportée de {{ minutes | default(5) }} minutes"
    action:
      - service: alarms_and_reminders.snooze_alarm
        data:
          minutes: "{{ minutes | default(5) }}"
          alarm_id: >            
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SetReminder_FR:
    speech:
      text: "Rappel réglé pour {{ datetime }}: {{ task }}"
    action:
      - service: alarms_and_reminders.set_reminder
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          name: "{{ task }}"
          satellite: "{{ context.id }}"
          message: "{{ task }}"
  StopReminder_FR:
    speech:
      text: "Rappel arrêté"
    action:
      - service: alarms_and_reminders.stop_reminder
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SnoozeReminder_FR:
    speech:
      text: "Rappel reporté de {{ minutes | default(5) }} minutes"
    action:
      - service: alarms_and_reminders.snooze_reminder
        data:     
          minutes: "{{ minutes | default(5) }}"
          reminder_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

## German
intent_script:
  SetAlarm_DE:
    speech:
      text: "Wecker gestellt für {{ datetime }}"
    action:
      - service: alarms_and_reminders.set_alarm
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          satellite: "{{ context.id }}"
          message: "{{ message | default('') }}"
  StopAlarm_DE:
    speech:
      text: "Wecker gestoppt"
    action:
      - service: alarms_and_reminders.stop_alarm
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SnoozeAlarm_DE:
    speech:
      text: "Wecker für {{ minutes | default(5) }} Minuten schlummern"
    action:
      - service: alarms_and_reminders.snooze_alarm
        data:
          minutes: "{{ minutes | default(5) }}"
          alarm_id: >            
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SetReminder_DE:
    speech:
      text: "Erinnerung gestellt für {{ datetime }}: {{ task }}"
    action:
      - service: alarms_and_reminders.set_reminder
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          name: "{{ task }}"
          satellite: "{{ context.id }}"
          message: "{{ task }}"
  StopReminder_DE:
    speech:
      text: "Erinnerung gestoppt"
    action:
      - service: alarms_and_reminders.stop_reminder
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}
  SnoozeReminder_DE:
    speech:
      text: "Erinnerung für {{ minutes | default(5) }} Minuten schlummern"
    action:
      - service: alarms_and_reminders.snooze_reminder
        data:     
          minutes: "{{ minutes | default(5) }}"
          reminder_id: >        
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

## Arabic
intent_script:
  SetAlarm_AR:
    speech:
      text: "تم ضبط المنبه على {{ datetime }}"
    action:
      - service: alarms_and_reminders.set_alarm
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          satellite: "{{ context.id }}"
          message: "{{ message | default('') }}"

  StopAlarm_AR:
    speech:
      text: "تم إيقاف المنبه"
    action:
      - service: alarms_and_reminders.stop_alarm
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SnoozeAlarm_AR:
    speech:
      text: "تم تأجيل المنبه لمدة {{ minutes | default(5) }} دقائق"
    action:
      - service: alarms_and_reminders.snooze_alarm
        data:
          minutes: "{{ minutes | default(5) }}"
          alarm_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'alarms').items() %}
              {% if item.status == 'active' and item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SetReminder_AR:
    speech:
      text: "تم ضبط التذكير لـ {{ datetime }}: {{ task }}"
    action:
      - service: alarms_and_reminders.set_reminder
        data:
          time: "{{ datetime.split('T')[1] }}"
          date: "{{ datetime.split('T')[0] }}"
          name: "{{ task }}"
          satellite: "{{ context.id }}"
          message: "{{ task }}"

  StopReminder_AR:
    speech:
      text: "تم إيقاف التذكير"
    action:
      - service: alarms_and_reminders.stop_reminder
        target:
          entity_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}

  SnoozeReminder_AR:
    speech:
      text: "تم تأجيل التذكير لمدة {{ minutes | default(5) }} دقائق"
    action:
      - service: alarms_and_reminders.snooze_reminder
        data:
          minutes: "{{ minutes | default(5) }}"
          reminder_id: >
            {% set ns = namespace(found='') %}
            {% for item_id, item in state_attr('alarms_and_reminders.items', 'reminders').items() %}
              {% if item.status == 'active' and not item.is_alarm %}
                {% set ns.found = 'alarms_and_reminders.' ~ item_id %}
              {% endif %}
            {% endfor %}
            {{ ns.found }}            